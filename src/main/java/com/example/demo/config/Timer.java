package com.example.demo.config;import com.example.demo.entity.TodPosition;import com.example.demo.entity.TomPosition;import com.example.demo.repository.TodPositionRepository;import com.example.demo.repository.TomPositionRepository;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.scheduling.annotation.Scheduled;import org.springframework.stereotype.Component;import java.util.List;@Componentpublic class Timer {    @Autowired    TomPositionRepository tomPositionRepository;    @Autowired    TodPositionRepository todPositionRepository;//凌晨更新数据库，将预约的数据 刷新到第二天    @Scheduled(cron = "0 00 00 * * ? ")    public void update(){        tomPositionRepository.change();//使所有的预约座位重置        todPositionRepository.deleteAll();//删除所有今天的座位，并把预约座位刷入        TodPosition todPosition = new TodPosition();        List<TomPosition> list = tomPositionRepository.findAll();        for(TomPosition item : list){            todPosition.setPositionId(item.getPositionId());            todPosition.setPositionName(item.getPositionName());            todPosition.setMorning(item.isMorning());            todPosition.setAfternoon(item.isAfternoon());            todPosition.setNight(item.isNight());            todPosition.setUserName(item.getUserName());            todPosition.setUserPhone(item.getUserPhone());            todPositionRepository.save(todPosition);        }    }    //    /*每天00:00:00时执行*/}